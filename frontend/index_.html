<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>OfertaPrimeX - Compare os Melhores Pre√ßos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="header">
    <div class="container header-content">
        <div class="logo">
            OfertaPrime<span>X</span>
        </div>
        <nav class="menu">
            <a href="#home">Home</a>
            <a href="#procurados">Mais Procurados</a>
            <a href="#top20">Top 20</a>
            <a href="#sobre">Quem Somos</a>
        </nav>
    </div>
</header>

<!-- ================= HERO / BUSCA ================= -->
<section class="hero" id="home">
    <div class="container">
        <h1 class="hero-title">
            Compare pre√ßos nas maiores plataformas
        </h1>
        <p class="hero-subtitle">
            Mercado Livre ‚Ä¢ Amazon ‚Ä¢ Shopee ‚Ä¢ Magalu
        </p>

        <input id="busca" type="text" placeholder="Buscar produto">
        <button id="btnBuscar">Pesquisar</button>
    </div>
</section>

<!-- ================= RESULTADOS DA BUSCA ================= -->
<section class="section" id="resultado-busca" style="display:none;">
    <div class="container">
        <h2 class="section-title">üîé Resultado da busca</h2>
        <div class="products-grid" id="grid-busca"></div>
    </div>
</section>

<!-- ================= MAIS PROCURADOS ================= -->
<section class="section" id="procurados">
    <div class="container">
        <h2 class="section-title">üî• Mais Procurados</h2>
        <div class="products-grid" id="mais-procurados"></div>
    </div>
</section>

<!-- ================= TOP 20 ================= -->
<section class="section section-gray" id="top20">
    <div class="container">
        <h2 class="section-title">üèÜ Top 20 das Plataformas</h2>
        <h3 class="platform-title">Mercado Livre</h3>
        <div class="products-grid small-grid" id="top20-mercadolivre"></div>
    </div>
</section>

<!-- ================= QUEM SOMOS ================= -->
<section class="section" id="sobre">
    <div class="container">
        <h2 class="section-title">Quem Somos</h2>
        <p class="about-text">
            O OfertaPrimeX √© uma vitrine inteligente de ofertas.
            Pesquisamos produtos nas maiores plataformas do Brasil,
            comparamos pre√ßos e exibimos os mais procurados,
            sempre com links oficiais de afiliados.
        </p>
    </div>
</section>

<!-- ================= FOOTER ================= -->
<footer class="footer">
    <p>¬© 2026 OfertaPrimeX - Todos os direitos reservados</p>
</footer>

<!-- ================= JS ================= -->
<script src="js/main.js"></script>

<!-- üî• INTEGRA√á√ÉO REAL COM BACKEND -->
<script type="module">
    import { getProducts, searchProducts } from './js/api.js';
    import { renderProducts } from './js/render.js';

    const gridBusca = document.getElementById('grid-busca');
    const sectionBusca = document.getElementById('resultado-busca');
    const gridProcurados = document.getElementById('mais-procurados');
    const gridTop20 = document.getElementById('top20-mercadolivre');

    // üîé BUSCA
    document.getElementById('btnBuscar').addEventListener('click', async () => {
        const termo = document.getElementById('busca').value;
        if (!termo) return;

        sectionBusca.style.display = 'block';

        const res = await searchProducts(termo);
        renderProducts(gridBusca, res.products || res);
    });

    // üî• MAIS PROCURADOS (usa products por enquanto)
    async function carregarProcurados() {
        const res = await getProducts({ limit: 8 });
        renderProducts(gridProcurados, res.products);
    }

    // üèÜ TOP 20
    async function carregarTop20() {
        const res = await getProducts({ limit: 20 });
        renderProducts(gridTop20, res.products);
    }

    carregarProcurados();
    carregarTop20();
</script>

</body>
</html>
