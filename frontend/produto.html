<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">

  <!-- SEO BÃSICO (dinÃ¢mico via JS) -->
  <title>Produto | OfertaPrimeX</title>
  <meta name="description" content="Confira detalhes e ofertas do produto no OfertaPrimeX">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
  <div class="container header-content">
    <div class="logo">
      <a href="/" style="color:#fff;text-decoration:none;">
        OfertaPrime<span>X</span>
      </a>
    </div>
  </div>
</header>

<section class="section">
  <div class="container" id="produto">
    <p>Carregando produto...</p>
  </div>
</section>

<footer class="footer">
  <p>Â© 2026 OfertaPrimeX - Todos os direitos reservados</p>
</footer>

<script type="module">
  import { getProductBySlug } from './js/api.js';

  const params = new URLSearchParams(window.location.search);
  const slug = params.get('slug');
  const container = document.getElementById('produto');

  async function load() {
    if (!slug) {
      container.innerHTML = '<p>Produto invÃ¡lido</p>';
      return;
    }

    try {
      const p = await getProductBySlug(slug);

      // SEO dinÃ¢mico
      document.title = `${p.title} | OfertaPrimeX`;
      const meta = document.querySelector('meta[name="description"]');
      if (meta) {
        meta.setAttribute(
          'content',
          `Veja preÃ§o e detalhes de ${p.title} nas melhores plataformas`
        );
      }

      container.innerHTML = `
        <div class="product-page">
          <h1>${p.title}</h1>

          <img
            src="${p.thumbnail || 'images/placeholder.png'}"
            alt="${p.title}"
            style="max-width:300px"
          >

          <p class="price">
            R$ ${Number(p.price).toFixed(2)}
          </p>

          <a
            href="/click/${p.id}"
            target="_blank"
            rel="nofollow noopener"
            class="btn"
          >
            ðŸ”— Ver oferta
          </a>
        </div>
      `;
    } catch (e) {
      container.innerHTML = '<p>Produto nÃ£o encontrado</p>';
    }
  }

  load();
</script>

</body>
</html>
